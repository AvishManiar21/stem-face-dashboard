/**
 * Scheduling System Styles
 * Phase 3: Frontend Development
 */

/* Schedule Grid Container - COMPACT */
.schedule-grid-container {
    background: transparent;
    border-radius: 8px;
    padding: 0.5rem;
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    overflow-x: auto;
}

/* Week view - show days side by side */
.schedule-grid-container.week-view {
    flex-direction: row;
    overflow-x: auto;
    padding: 0.5rem;
    gap: 0.75rem;
}

.schedule-grid-container.week-view .day-schedule-grid {
    min-width: 650px; /* Further reduced for better fit */
    flex-shrink: 0;
    max-width: calc(100vw - 2rem); /* Ensure it fits on screen with padding */
}

/* Single day view - fit to screen */
.schedule-grid-container:not(.week-view) .day-schedule-grid {
    max-width: 100%;
    width: 100%;
}

/* Day Schedule Grid - Each day gets its own grid - COMPACT VERSION */
.day-schedule-grid {
    background: white;
    border-radius: 6px;
    padding: 0.5rem;
    margin-bottom: 0.75rem;
    box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);
    border: 1px solid #e5e7eb;
}

.day-schedule-header {
    margin-bottom: 0.5rem;
    border-bottom: 1px solid #e5e7eb;
    padding-bottom: 0.4rem;
}

.day-schedule-title {
    font-size: 0.9rem;
    font-weight: 700;
    color: #1e293b;
    margin-bottom: 0.4rem;
    line-height: 1.2;
}

.day-schedule-time-slots {
    display: grid;
    grid-template-columns: 90px repeat(8, minmax(60px, 1fr)); /* Tutor column + 8 time slots - optimized */
    gap: 0.2rem; /* Further reduced gap */
    align-items: center;
}

.day-time-header-spacer {
    /* Empty spacer cell to align with tutor column */
    border: none;
    padding: 0;
    width: 100%;
}

.day-time-header {
    text-align: center;
    padding: 0.25rem 0.15rem;
    font-size: 0.65rem;
    font-weight: 600;
    color: #64748b;
    border-left: 1px solid #e5e7eb;
    line-height: 1.2;
    display: flex;
    align-items: center;
    justify-content: center;
    white-space: nowrap;
    min-width: 0; /* Allow shrinking if needed */
    width: 100%; /* Ensure full width of grid cell */
    box-sizing: border-box;
}

.day-time-header:first-of-type {
    border-left: 1px solid #e5e7eb; /* Keep border for first time header after spacer */
}

.day-schedule-body {
    display: flex;
    flex-direction: column;
    gap: 0.25rem; /* Reduced gap */
}

.day-tutor-row {
    display: grid;
    grid-template-columns: 90px repeat(8, minmax(60px, 1fr)); /* Tutor name + 8 time slots - optimized */
    gap: 0.2rem; /* Further reduced gap */
    min-height: 30px; /* Further reduced height */
    border-bottom: 1px solid #f1f5f9;
    padding-bottom: 0.2rem;
    align-items: stretch; /* Ensure all cells align properly */
}

.day-tutor-name {
    display: flex;
    align-items: center;
    padding: 0.25rem 0.4rem;
    border-right: 1px solid #e5e7eb;
    font-weight: 600;
    color: #1e293b;
    font-size: 0.75rem; /* Reduced font size */
    line-height: 1.2;
}

.day-schedule-slot {
    min-height: 30px; /* Further reduced height */
    border: 1px solid #e5e7eb;
    border-radius: 2px;
    cursor: pointer;
    transition: all 0.2s ease;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%; /* Ensure full width */
    box-sizing: border-box; /* Include border in width calculation */
}

/* Schedule Body */
.schedule-body {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.schedule-tutor-row {
    display: grid;
    grid-template-columns: 200px repeat(48, 1fr); /* Tutor name + (6 days * 8 time slots) */
    gap: 0.5rem;
    min-height: 50px;
    margin-bottom: 0.5rem;
    border-bottom: 1px solid #f1f5f9;
    padding-bottom: 0.5rem;
}

.schedule-tutor-name-cell {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0.5rem;
    border-right: 2px solid #e5e7eb;
    font-weight: 600;
    color: #1e293b;
}

.tutor-name-display {
    font-size: 0.9rem;
    font-weight: 600;
}

.tutor-edit-icon {
    opacity: 0.4;
    cursor: pointer;
    transition: opacity 0.2s;
    font-size: 0.65rem !important; /* Smaller icon */
}

.tutor-edit-icon:hover {
    opacity: 0.8;
}

/* Schedule Slots */
.schedule-slot {
    min-height: 50px;
    border: 1px solid #e5e7eb;
    border-radius: 4px;
    cursor: pointer;
    transition: all 0.2s ease;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
}

.schedule-slot small {
    font-weight: 600;
    color: inherit;
}

.schedule-slot-available,
.day-schedule-slot-available {
    background: #f1f5f9; /* Light gray - available */
    border-color: #cbd5e1;
}

.schedule-slot-available:hover,
.day-schedule-slot-available:hover {
    background: #e2e8f0;
    transform: scale(1.02);
    z-index: 10;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.schedule-slot-booked,
.day-schedule-slot-booked {
    background: #3b82f6; /* Blue - booked */
    border-color: #2563eb;
    cursor: pointer;
}

.schedule-slot-booked:hover,
.day-schedule-slot-booked:hover {
    background: #2563eb;
    opacity: 0.9;
}

.schedule-slot-unavailable,
.day-schedule-slot-unavailable {
    background: #475569; /* Dark gray - unavailable */
    border-color: #334155;
    cursor: not-allowed;
    opacity: 0.7;
}

.schedule-slot-pending,
.day-schedule-slot-pending {
    background: #f59e0b; /* Orange - pending */
    border-color: #d97706;
    cursor: pointer;
}

/* Booking Modal */
.booking-modal .form-label {
    font-weight: 600;
    color: #1e293b;
    margin-bottom: 0.5rem;
}

.booking-modal .form-control,
.booking-modal .form-select {
    border-radius: 8px;
    border: 1px solid #e5e7eb;
    padding: 0.75rem;
}

.booking-modal .form-control:focus,
.booking-modal .form-select:focus {
    border-color: #667eea;
    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
}

/* Week Navigation - Compact */
.week-navigation {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 0.75rem;
    padding: 0.5rem;
    background: white;
    border-radius: 6px;
    box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);
}

.week-navigation button {
    padding: 0.25rem 0.75rem;
    border-radius: 4px;
    border: 1px solid #e5e7eb;
    background: white;
    color: #1e293b;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
    font-size: 0.875rem;
}

.week-navigation button:hover {
    background: #f8f9fa;
    border-color: #667eea;
    color: #667eea;
}

.week-navigation .current-week {
    font-size: 0.9rem;
    font-weight: 700;
    color: #1e293b;
}

/* Tutor Filter - Compact */
.tutor-filter {
    margin-bottom: 0.75rem;
    padding: 0.5rem;
    background: white;
    border-radius: 6px;
    box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);
}

.tutor-filter label {
    font-weight: 600;
    color: #1e293b;
    margin-bottom: 0.25rem;
    display: block;
    font-size: 0.875rem;
}

.tutor-filter .form-select {
    border-radius: 4px;
    border: 1px solid #e5e7eb;
    padding: 0.375rem;
    font-size: 0.875rem;
}

/* Responsive */
@media (max-width: 768px) {
    .schedule-grid-container {
        padding: 0.5rem;
        overflow-x: auto;
    }

    .schedule-header,
    .schedule-time-header-row,
    .schedule-tutor-row {
        grid-template-columns: 120px repeat(48, 60px); /* Tutor column + (6 days * 8 time slots) */
        min-width: 3000px; /* Ensure minimum width for horizontal scroll */
    }

    .schedule-tutor-name-cell {
        font-size: 0.75rem;
    }

    .schedule-slot {
        min-height: 40px;
    }

    .time-label {
        font-size: 0.65rem;
    }

    .day-title {
        font-size: 0.75rem;
    }
}

